StudentStorage – Simple Explanation

This contract stores student records on the blockchain using struct, arrays, and fallback functions.


---

1. Struct: Student

struct Student {
    uint256 id;
    string name;
    uint8 age;
    string[] courses;
    address studentAddress;
}

A struct groups different pieces of student information:

id → unique student ID

name → student name

age → student age

courses → list of enrolled courses (array of strings)

studentAddress → Ethereum address of whoever added this student



---

2. Array to Store All Students

Student[] public students;

This is a dynamic array, meaning more students can be added anytime.


---

3. Mapping for Fast Lookup

mapping(uint256 => uint256) private idToIndex;

This maps:

student ID → index in the array + 1


Why +1?

Because 0 means “not found”, so using +1 avoids confusion.



---

4. Events

event StudentAdded(...)
event FundsReceived(...)

Events are logs stored on the blockchain.

StudentAdded logs when a student is added.

FundsReceived logs when someone sends Ether to the contract.



---

5. addStudent()

function addStudent(uint256 _id, string _name, uint8 _age, string[] _courses)

What it does:

Ensures _id is not zero.

Ensures the ID is not already used.

Copies the courses from calldata → memory (Solidity requirement).

Adds a new Student into the students array.

Updates the mapping with the student’s index.

Emits the StudentAdded event.


Simple flow:

1. Validate input


2. Create a new Student


3. Save it in the array


4. Log the action




---

6. totalStudents()

return students.length;

Returns how many students are stored.


---

7. getStudent(id)

function getStudent(uint256 _id)

Steps:

1. Check if the ID exists (mapping must not be 0).


2. Convert index from mapping back to array index.


3. Return all data of that student.




---

8. receive() function

receive() external payable

This is called when the contract receives Ether without data.

Example:

User sends ETH directly to the contract

This function logs FundsReceived



---

9. fallback() function

fallback() external payable

This runs when:

Someone sends ETH with data

Someone calls a function that does not exist


It logs the payment using FundsReceived.
